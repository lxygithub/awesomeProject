<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>文件列表</title>
</head>
<script src="src/web/js/jquery-3.5.1.min.js"></script>
<body>
<a href="files" style="margin: 30px">首页</a>
<a href="javascript:void(0);" onclick="document.getElementById('myform').submit();">
    <form id="myform" method="post" action="files">
        <input type="hidden" name="dir" value="{{.LastPath}}">
    </form>
    ../上一层
</a><br>
<table style="border-spacing: 30px 10px">
    <thead>
    <tr>
        <th>名称</th>
        <th>大小</th>
        <th>修改日期</th>
    </tr>
    </thead>
    <tbody>
    {{range .Files}}
        {{if .IsFile}}
            <tr>
                <td>
                    <a href="javascript:void(0);" onclick="document.getElementById('myform2').submit();">
                        <form id="myform2" method="post" action="files/download">
                            <input type="hidden" name="file" value="{{.Path}}">
                        </form>
                        {{.Name}}
                    </a>
                </td>
                <td>{{.MB}}MB</td>
                <td>{{.ModTime}}</td>
            </tr>
        {{else}}
            <tr>
                <td>
                    <a href="javascript:void(0);" onclick="document.getElementById('myform1').submit();">
                        <form id="myform1" method="post" action="files">
                            <input type="hidden" name="dir" value="{{.Path}}">
                        </form>
                        {{.Name}}
                    </a>
                </td>
                <td></td>
                <td>{{.ModTime}}</td>
            </tr>
        {{ end }}
    {{ end }}
    </tbody>
</table>

</body>
</html>